<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>UD3-3</title>
</head>
<body>
    <form action="">
        <label for="hora">Introduce una hora: </label>
        <input type="text" id="hora">

        <p><button id="boton" type="button">Enviar</button></p>

    </form>

    <h2 id="validacion"></h2>

    <script>
      document.getElementById("boton").addEventListener("click",validar);
      
      function validar(){
        let hora = document.getElementById("hora").value; 
        /* validacion hora con segundos */
        let patt1 = /^([01]?[0-9]|2[0-3]):[0-5][0-9](:[0-5][0-9])?$/;
        let res1 = patt1.test(hora);
        /* validacion hora sin segundos */
        let patt2 = /^([01]?[0-9]|2[0-3]):[0-5][0-9]$/;
        let res2 = patt1.test(hora);
        /* si alguna de las validaciones es correcta de ejecurte el if
        en caso contrario el else */
        if(res1 || res2){
            document.getElementById("validacion").innerHTML= "El formato de la hora: " +
             hora +" Es correcta";
            document.getElementById("validacion").style.color = "red";
            document.getElementById("hora").value="";
            console.log(hora+" Correcta");

        }else{
            alert('El formato de "'+ hora +'" no es correcto');
            document.getElementById("hora").value ="";
            console.log(hora+" Incorrecta");
        }
          
      }


    </script>
</body>
</html>